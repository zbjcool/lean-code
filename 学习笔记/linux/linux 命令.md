## 探究操作系统
ls — 列出目录内容

file — 确定文件类型

less — 浏览文件内容，一页一页的显示输出
## 操作文件和目录
cp — 复制文件和目录
-r
//如果dist目录是空的
cp -rv ./source ./dist
./source -> ./dist
./source/source.js -> ./dist/source.js
// 如果dist目录非空
cp -rv ./source ./dist
./source -> ./dist/source
./source/source.js -> ./dist/source/source.js
localhost:test zhengbj$ ls
mv — 移动/重命名文件和目录
mv fileName1 fileName2
//把文件file移动到目录桌面
mv file ~/Desktop/
mkdir — 创建目录

rm — 删除文件和目录

ln — 创建硬链接和符号链接

chsh - 修改当前脚本归档和备份
计算机系统管理员的一个主要任务就是保护系统的数据安全，其中一种方法是通过时时备份系统文件，来保护 数据。即使你不是一名系统管理员，像做做拷贝或者在各个位置和设备之间移动大量的文件，通常也是很有帮助的。 在这一章中，我们将会看看几个经常用来管理文件集合的程序。它们就是文件压缩程序：

gzip – 压缩或者展开文件

bzip2 – 块排序文件压缩器
归档程序：

tar – 磁带打包工具

zip – 打包和压缩文件
还有文件同步程序：

rsync – 同步远端文件和目录

## 使用命令

type – 说明怎样解释一个命令名

which – 显示所给定的执行程序的准确位置

man – 显示命令手册页

apropos – 显示一系列适合的命令

info – 显示命令 info

whatis – 显示一个命令的简洁描述

alias – 创建命令别名
比如 type cd
到底什么是命令？
命令可以是下面四种形式之一：

1. 是一个可执行程序，就像我们所看到的位于目录/usr/bin 中的文件一样。 属于这一类的程序，可以编译成二进制文件，诸如用 C 和 C++语言写成的程序, 也可以是由脚本语言写成的程序，比如说 shell，perl，python，ruby，等等。

2. 是一个内建于 shell 自身的命令。bash 支持若干命令，内部叫做 shell 内部命令 (builtins)。例如，cd 命令，就是一个 shell 内部命令。

3. 是一个 shell 函数。这些是小规模的 shell 脚本，它们混合到环境变量中。 在后续的章节里，我们将讨论配置环境变量以及书写 shell 函数。但是现在， 仅仅意识到它们的存在就可以了。

4. 是一个命令别名。我们可以定义自己的命令，建立在其它命令之上。

命令小技巧：
command1; command2; command3...


cd - 切换到上一个工作目录

type name="string"
alias 显示所有别名
unalias name
alians name
在命令行中定义别名有点儿小问题。当你的 shell 会话结束时，它们会消失。

获取当前正在使用的shell
echo $SHELL
获取shell列表
cat /etc/shells
chsh -s /bin/zsh
## 重定向
重定向就是重新定义输入输出源来，
默认输入键盘，输出屏幕
cat － 连接文件

sort － 排序文本行

uniq － 报道或省略重复行

grep － 打印匹配行

wc － 打印文件中换行符，字，和字节个数

head － 输出文件第一部分

tail - 输出文件最后一部分

它叫做 I/O 重定向。"I/O"代表输入/输出， 通过这个工具，你可以重定向命令的输入输出，命令的输入来自文件，而输出也存到文件。 也可以把多个命令连接起来组成一个强大的命令管道。

与 Unix 主题“任何东西都是一个文件”保持一致，程序，比方说 ls，实际上把他们的运行结果 输送到一个叫做标准输出的特殊文件（经常用 stdout 表示），而它们的状态信息则送到另一个 叫做标准错误的文件（stderr）。默认情况下，标准输出和标准错误都连接到屏幕，而不是 保存到磁盘文件。除此之外，许多程序从一个叫做标准输入（stdin）的设备得到输入，默认情况下， 标准输入连接到键盘。

I/O 重定向允许我们可以更改输出走向和输入来向。一般地，输出送到屏幕，输入来自键盘， 但是通过 I/O 重定向，我们可以改变输入输出方向。

[me@linuxbox ~]$ ls -l /bin/usr > ls-output.txt
ls: cannot access /bin/usr: No such file or directory我们收到一个错误信息。这很有意义，因为我们指定了一个不存在的目录/bin/usr, 但是为什么这条错误信息显示在屏幕上而不是被重定向到文件 ls-output.txt？答案是， ls 程序不把它的错误信息输送到标准输出。反而，像许多写得不错的 Unix 程序，ls 把 错误信息送到标准错误。因为我们只是重定向了标准输出，而没有重定向标准错误， 所以错误信息被送到屏幕。马上，我们将知道怎样重定向标准错误，但是首先看一下 我们的输出文件发生了什么事情。

我们收到一个错误信息。这很有意义，因为我们指定了一个不存在的目录/bin/usr, 但是为什么这条错误信息显示在屏幕上而不是被重定向到文件 ls-output.txt？答案是， ls 程序不把它的错误信息输送到标准输出。反而，像许多写得不错的 Unix 程序，ls 把 错误信息送到标准错误。因为我们只是重定向了标准输出，而没有重定向标准错误， 所以错误信息被送到屏幕。马上，我们将知道怎样重定向标准错误，但是首先看一下 我们的输出文件发生了什么事情。

简单地使用重定向符，没有命令在它之前，这会删除一个已存在文件的内容或是 创建一个新的空文件。

所以，怎样才能把重定向结果追加到文件内容后面，而不是从开头重写文件？为了这个目的， 我们使用">>"重定向符，

标准输入，输出和错误，shell 内部参考它们为文件描述符0，1和2
[me@linuxbox ~]$ ls -l /bin/usr 2> ls-error.txt
输出错误到文件

处理不需要的输出
有时候“沉默是金”，我们不想要一个命令的输出结果，只想把它们扔掉。这种情况 尤其适用于错误和状态信息。系统为我们提供了解决问题的方法，通过重定向输出结果 到一个特殊的叫做"/dev/null"的文件。这个文件是系统设备，叫做位存储桶，它可以 接受输入，并且对输入不做任何处理。为了隐瞒命令错误信息，我们这样做：

[me@linuxbox ~]$ ls -l /bin/usr 2> /dev/null

管道线
一个命令的 标准输出可以管道到另一个命令的标准输入：
command1 | command2

[me@linuxbox ~]$ ls -l /usr/bin | less
过滤器
管道线经常用来对数据完成复杂的操作。有可能会把几个命令放在一起组成一个管道线。 通常，以这种方式使用的命令被称为过滤器。过滤器接受输入，以某种方式改变它，然后 输出它。第一个我们想试验的过滤器是 sort。想象一下，我们想把目录/bin 和/usr/bin 中 的可执行程序都联合在一起，再把它们排序，然后浏览执行结果：

[me@linuxbox ~]$ ls /bin /usr/bin | sort | less
因为我们指定了两个目录（/bin 和/usr/bin），ls 命令的输出结果由有序列表组成， 各自针对一个目录。通过在管道线中包含 sort，我们改变输出数据，从而产生一个 有序列表。
为了确信 我们的列表中不包含重复句子（这是说，出现在目录/bin 和/usr/bin 中重名的程序），我们添加 uniq 到我们的管道线中：

[me@linuxbox ~]$ ls /bin /usr/bin | sort | uniq | less

wc － 打印行，字和字节数

grep － 打印匹配行
grep 是个很强大的程序，用来找到文件中的匹配文本

head / tail － 打印文件开头部分/结尾部分

tee － 从 Stdin 读取数据，并同时输出到 Stdout 和文件

[me@linuxbox ~]$ ls /usr/bin | tee ls.txt | grep zip
bunzip2
bzip2
....
输出到ls.txt和管道




## 权限

id – 显示用户身份号

chmod – 更改文件模式

umask – 设置默认的文件权限

su – 以另一个用户的身份来运行 shell

sudo – 以另一个用户的身份来执行命令

chown – 更改文件所有者
```bash
ls -la
chown zhengbj:zhengbj 文件夹名字
```

chgrp – 更改文件组所有权

passwd – 更改用户密码
adduser

useradd

groupadd
超级用户（uid 0）

## 进程

通常，现在的操作系统都支持多任务，意味着操作系统（给用户）造成了一种假象，(让用户觉得) 它同时能够做多件事情，事实上，它是快速地轮换执行这些任务的。Linux 内核通过使用进程，来 管理多任务。通过进程，Linux 安排不同的程序等待使用 CPU。
我们将看一些 可用的命令行工具，这些工具帮助我们查看程序的执行状态，以及怎样终止行为不当的进程。
ps – 报告当前进程快照

top – 显示任务

jobs – 列出活跃的任务

bg – 把一个任务放到后台执行

fg – 把一个任务放到前台执行

kill – 给一个进程发送信号
kill 进程
ps -ef| grep tomcat
kill pid
//把文件名fileName1 改成fileName2

killall – 杀死指定名字的进程

shutdown – 关机或重启系统

w - 查看load
uptime - 查看load

## shell环境
printenv - 打印部分或所有的环境变量

set - 设置 shell 选项

export — 导出环境变量，让随后执行的程序知道。

alias - 创建命令别名

## 存储媒介

管理存储设备的第一步是把设备连接到文件系统树中。这个过程叫做挂载，

mount – 挂载一个文件系统

umount – 卸载一个文件系统

fsck – 检查和修复一个文件系统

fdisk – 分区表控制器

mkfs – 创建文件系统

fdformat – 格式化一张软盘

dd — 把面向块的数据直接写入设备

genisoimage (mkisofs) – 创建一个 ISO 9660的映像文件

wodim (cdrecord) – 把数据写入光存储媒介

md5sum – 计算 MD5检验码


## 网络系统
ping - 发送 ICMP ECHO_REQUEST 软件包到网络主机

traceroute - 打印到一台网络主机的路由数据包

netstat - 打印网络连接，路由表，接口统计数据，伪装连接，和多路广播成员

ftp - 因特网文件传输程序

wget - 非交互式网络下载器

ssh - OpenSSH SSH 客户端（远程登录程序）



## 查找文件
因为我们已经浏览了 Linux 系统，所以一件事已经变得非常清楚：一个典型的 Linux 系统包含很多文件！ 这就引发了一个问题，“我们怎样查找东西？”。虽然我们已经知道 Linux 文件系统良好的组织结构，是源自 类 Unix 的操作系统代代传承的习俗。但是仅文件数量就会引起可怕的问题。在这一章中，我们将察看 两个用来在系统中查找文件的工具。这些工具是：

locate – 通过名字来查找文件
就是更新数据库的updatedb命令了，根据Linux使用经验，使用updatedb命令可以更新locate命令的数据库，而在mac os X下却找不到updatedb这个程序，使用man locate查看，得知locate数据库位置在：

/var/db/locate.datebase
而所谓的updatedb程序在：

/usr/libexec/locate.updatedb
知道了位置直接调用就可以了。

为了省去路径，建立终端下的快捷命令：

vim ~/.bashrc

添加一行：

alias updatedb='/usr/libexec/locate.updatedb'

find – 在目录层次结构中搜索文件
我们也将看一个经常与文件搜索命令一起使用的命令，它用来处理搜索到的文件列表：

xargs – 从标准输入生成和执行命令行
另外，我们将介绍两个命令来协助我们探索：

touch – 更改文件时间

stat – 显示文件或文件系统状态

## 归档和备份
计算机系统管理员的一个主要任务就是保护系统的数据安全，其中一种方法是通过时时备份系统文件，来保护 数据。即使你不是一名系统管理员，像做做拷贝或者在各个位置和设备之间移动大量的文件，通常也是很有帮助的。 在这一章中，我们将会看看几个经常用来管理文件集合的程序。它们就是文件压缩程序：

gzip – 压缩或者展开文件

bzip2 – 块排序文件压缩器
归档程序：

tar – 磁带打包工具

zip – 打包和压缩文件
还有文件同步程序：

rsync – 同步远端文件和目录

## 文本处理
所有类 Unix 的操作系统都非常依赖于被用于几种数据类型存储的文本文件。所以这很有道理， 有许多用于处理文本的工具。在这一章中，我们将看一些被用来“切割”文本的程序。在下一章中， 我们将查看更多的文本处理程序，但主要集中于文本格式化输出程序和其它一些人们需要的工具。

这一章会重新拜访一些老朋友，并且会给我们介绍一些新朋友：

cat – 连接文件并且打印到标准输出

sort – 给文本行排序

uniq – 报告或者省略重复行

cut – 从每行中删除文本区域

paste – 合并文件文本行

join – 基于某个共享字段来联合两个文件的文本行

comm – 逐行比较两个有序的文件

diff – 逐行比较文件

patch – 给原始文件打补丁

tr – 翻译或删除字符

sed – 用于筛选和转换文本的流编辑器

aspell – 交互式拼写检查器

awk - 文本处理


who
root     tty1         2017-11-02 11:36
root     pts/0        2017-11-03 09:53 (122.224.207.42)
whoami
who am i
root     pts/0        2017-11-03 09:53 (122.224.207.42)

netstat -a
ps -aux
which ifconfig
/sbin/ifconfig
修改，设置密码
 passwd 用户名
查找文件
find 在哪里查找 -name 文件名
mv 移动 重命名
rm 删除
rm -rf 文件夹
删除文件夹
source 脚本立即生效


